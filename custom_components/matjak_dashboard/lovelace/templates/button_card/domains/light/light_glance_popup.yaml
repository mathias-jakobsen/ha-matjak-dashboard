# matjak_dashboard

template: popup

variables:
  title: Lights
  
  background_color: rgba(30, 30, 30, 1)

  header_buttons:
    - type: custom:button-card
      template: popup_button
      icon: mdi:lightbulb-group
      tap_action:
        action: none

  views:
    - icon: mdi:lightbulb-group
      card:
        type: custom:decluttering-card
        template: popup_entities
        variables:
          - entities: >
              [[[
                const lights = {{ _global.registry.entities.get_by_domain("light") | map(attribute="entity_id") | list }};
                const lights_on = lights.filter(entity_id => states[entity_id].state == "on");
                return lights_on;
              ]]]