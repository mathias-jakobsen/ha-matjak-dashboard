# matjak_dashboard

- !include
    - ../templates/yaml/grid.yaml
    - title: Areas
      icon: mdi:texture-box
      path: areas
      cards:
        - type: entities
          card_mod:
            class: view-header
          title: {{ _global.translations.view_title_areas }}
          entities: []

        {% for location, areas in _global.registry.areas.group_by_location() %}
        {% if areas | count > 0 %}
        - type: entities
          card_mod:
            class: layout-grid-square__areas
          title: {{ (_global.translations.areas_other if location == "__others__" else location) | title }}
          entities:
            {% for area in areas %}
            {% set entities = _global.registry.entities.get_by_area(area) | map(attribute="entity_id") | list %}
            - type: custom:button-card
              template: area_button
              triggers_update: {{ entities }}
              icon: {{ _global.registry.areas.get_area_icon(area) }}
              name: {{ area.name }}
              variables:
                entities: {{ entities }}
                url: /matjak-dashboard/areas/{{ area.id }}
            {% endfor %}
        {% endif %}
        {% endfor %}